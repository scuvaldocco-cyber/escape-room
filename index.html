<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Accesso finale - Escape Room</title>
  <style>
    :root{
      --bg1:#FFDEE9; /* rosa chiaro */
      --bg2:#B5FFFC; /* azzurro pastello */
      --accent:#FF7AA2; /* rosa intenso */
      --card:#ffffff;
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;}
    body{
      background: radial-gradient(circle at 10% 10%, var(--bg1) 0%, transparent 30%),
                  radial-gradient(circle at 90% 90%, var(--bg2) 0%, transparent 30%),
                  linear-gradient(135deg,#fdf6ff 0%, #f6fffb 100%);
      display:flex;align-items:center;justify-content:center;padding:24px;
    }
    .card{
      width:100%;max-width:820px;background:linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.98));
      border-radius:20px;box-shadow:0 20px 50px rgba(0,0,0,0.12);padding:28px;display:flex;gap:20px;align-items:center;
    }
    .left{flex:1}
    h1{margin:0 0 8px 0;font-size:28px;color:#222}
    p.lead{margin:0 0 18px 0;color:#444;}
    .input-row{display:flex;gap:12px;align-items:center}
    input[type="password"]{
      flex:1;padding:12px 14px;border-radius:12px;border:2px solid rgba(0,0,0,0.06);font-size:16px;
      outline:none;transition:box-shadow .18s,transform .12s;
    }
    input[type="password"]:focus{box-shadow:0 8px 30px rgba(0,0,0,0.06);transform:translateY(-2px)}
    button{
      background:linear-gradient(180deg,var(--accent),#ff5b86);border:none;color:white;padding:12px 18px;border-radius:12px;
      font-weight:600;cursor:pointer;box-shadow:0 8px 20px rgba(255,122,162,0.2);
    }
    .msg{height:22px;margin-top:12px;font-weight:600;color:#af2b2b}
    .trophy{
      width:220px;height:220px;border-radius:16px;display:flex;align-items:center;justify-content:center;
      background:conic-gradient(from 180deg at 50% 50%, #fff1f5, #fef7e6);padding:18px;
    }
    /* small decorative elements */
    .top-badge{display:inline-block;background:linear-gradient(90deg,#fff6f9,#f6fbff);padding:8px 12px;border-radius:999px;font-weight:700;color:var(--accent);margin-bottom:12px}
    @media(max-width:720px){.card{flex-direction:column}.trophy{width:160px;height:160px}}
  </style>
</head>
<body>
  <div class="card" role="main" aria-labelledby="title">
    <div class="left">
      <div class="top-badge">⚠️ Sistema scolastico compromesso</div>
      <h1 id="title">Inserisci la password finale</h1>
      <p class="lead">Abbiamo intercettato i server: per sbloccare l'uscita inserisci la password trovata durante la prova.</p>

      <div class="input-row" aria-hidden="false">
        <label for="pwd" class="sr-only" style="position:absolute;left:-9999px">Password</label>
        <input id="pwd" type="password" placeholder="Inserisci password..." autocomplete="off" inputmode="numeric" />
        <button id="check">Controlla</button>
      </div>
      <div id="msg" class="msg" aria-live="polite"></div>

      <p style="margin-top:18px;color:#666;font-size:13px">Suggerimento: la password è composta da 6 cifre.</p>
    </div>

    <div class="trophy" aria-hidden="false">
      <!-- semplice SVG coppa integrata -->
      <svg width="160" height="160" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
        <defs>
          <linearGradient id="g" x1="0" x2="1" y1="0" y2="1">
            <stop offset="0" stop-color="#ffd86b"/>
            <stop offset="1" stop-color="#ffb347"/>
          </linearGradient>
        </defs>
        <g transform="translate(4,4) scale(0.9)">
          <path d="M46 6H18v2a12 12 0 0 0 12 12h4a12 12 0 0 0 12-12V6z" fill="url(#g)"/>
          <path d="M48 8v4a16 16 0 0 1-16 16h-4A16 16 0 0 1 12 12V8H10v4a6 6 0 0 0 6 6h1v6a10 10 0 0 1-8 9v3h36v-3a10 10 0 0 1-8-9v-6h1a6 6 0 0 0 6-6V8z" fill="#ffd86b" opacity="0.95"/>
          <rect x="22" y="38" width="18" height="4" rx="1" fill="#e6a800"/>
        </g>
      </svg>
    </div>
  </div>

  <script>
    (function(){
      const real = "547531"; // password corretta
      const inp = document.getElementById('pwd');
      const btn = document.getElementById('check');
      const msg = document.getElementById('msg');

      function showError(t){
        msg.style.color = '#af2b2b';
        msg.textContent = t;
      }
      function showSuccess(){
        msg.style.color = '#0b7a3f';
        msg.textContent = 'Password corretta — redirezione...';
      }

      btn.addEventListener('click', check);
      inp.addEventListener('keydown', function(e){ if(e.key === 'Enter') check(); });

      function check(){
        const v = (inp.value||"").trim();
        if(v === ""){ showError('Inserisci la password'); return; }
        if(v === real){
          showSuccess();
          // piccolo delay visuale prima di andare alla pagina di successo
          setTimeout(()=> window.location.href = 'success.html', 650);
        } else {
          showError('Password errata');
          // effetto feedback
          inp.value = '';
          inp.focus();
        }
      }
      // per usabilità, focus iniziale
      inp.focus();
    })();
  </script>
</body>
</html>
